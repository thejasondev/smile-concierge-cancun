---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.tsx';
import Footer from '../components/Footer.tsx';
import ProcessAccordion from '../components/ProcessAccordion.tsx';
import {
  generateBreadcrumbSchema,
  generateWebPageSchema,
} from '../seo/schemas';

const siteUrl = 'https://smile-concierge-cancun.vercel.app';
const breadcrumbs = [
  { name: 'Home', url: siteUrl },
  { name: 'Our Process', url: `${siteUrl}/process` },
];

// Process steps data for desktop view
const processSteps = [
  {
    id: 1,
    title: 'Free Online Assessment',
    description:
      'Start your journey from the comfort of your home. Our specialists review your photos, X-Rays, medical history, and goals to create a personalized treatment plan.',
    colorGradient: 'from-forest to-forest-dark',
    color: 'forest',
    features: [
      'Detailed photo analysis by our specialists',
      'Personalized treatment recommendations',
      'Cost estimate and timeline',
      'Travel and accommodation planning',
    ],
    ctaText: 'Start Free Assessment',
    ctaUrl:
      "https://wa.me/529983889184?text=Hello!%20I'm%20interested%20in%20receiving%20a%20free%20dental%20assessment.",
  },
  {
    id: 2,
    title: 'Arrival & Welcome',
    description:
      'We handle everything from airport pickup to accommodation, transportation to appointments, and comfortable stays in hotels or vacation homes.',
    colorGradient: 'from-sage to-sage-dark',
    color: 'sage',
    features: [
      'Private airport transfer',
      'Transportation to all appointments',
      'Hotel or private vacation home stay',
    ],
    note: 'Optional package - book separately',
  },
  {
    id: 3,
    title: 'Treatment & Transformation',
    description:
      'Experience world-class dental care in state-of-the-art facilities with premium materials and techniques.',
    colorGradient: 'from-forest-light to-sage',
    color: 'forest-light',
    features: [
      'Digital Smile Design planning',
      'Premium materials and techniques',
      'Treatment by renowned specialists',
      'Guaranteed by Smile Concierge',
    ],
  },
];

const timelineStats = [
  {
    value: '3-10',
    label: 'Days Average',
    colorGradient: 'from-forest to-forest-dark',
  },
  { value: '24/7', label: 'Support', colorGradient: 'from-sage to-sage-dark' },
  {
    value: '100%',
    label: 'Personalized',
    colorGradient: 'from-forest-light to-sage',
  },
];
---

<Layout
  title="How Dental Tourism Works | Step-by-Step Process | Smile Concierge Cancun"
  description="Discover our simple 3-step dental tourism process. Free online assessment, luxury Cancun experience, and world-class treatment. Your smile journey starts here."
  keywords="dental tourism process, how dental tourism works, dental treatment abroad, cancun dental process, smile makeover steps"
>
  <script
    type="application/ld+json"
    set:html={generateBreadcrumbSchema(breadcrumbs)}
  />
  <script
    type="application/ld+json"
    set:html={generateWebPageSchema(
      'Our Dental Tourism Process',
      'Step-by-step guide to your dental transformation in Cancun',
      `${siteUrl}/process`
    )}
  />

  <Header client:load />
  <main>
    <!-- Hero Section - Compact -->
    <section
      class="from-cream via-sand/30 relative overflow-hidden bg-gradient-to-br to-white py-10 md:py-20"
    >
      <div class="absolute inset-0 opacity-30">
        <div
          class="bg-forest/20 absolute top-10 left-10 h-32 w-32 rounded-full blur-3xl"
        >
        </div>
        <div
          class="bg-sage/20 absolute right-10 bottom-10 h-40 w-40 rounded-full blur-3xl"
        >
        </div>
      </div>

      <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="mb-6 text-center md:mb-12">
          <div
            class="mb-4 inline-flex items-center gap-2 rounded-full border border-white/40 bg-white/70 px-3 py-1.5 shadow-lg backdrop-blur-xl md:mb-6 md:px-4 md:py-2"
          >
            <svg
              class="text-forest h-4 w-4 md:h-5 md:w-5"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
              ></path>
            </svg>
            <span class="text-xs font-semibold text-slate-700 md:text-sm"
              >Simple Process</span
            >
          </div>

          <h1
            class="mb-3 text-2xl leading-tight font-bold text-slate-800 md:mb-6 md:text-4xl lg:text-5xl"
          >
            Your Journey to the Perfect Smile
          </h1>
          <p
            class="mx-auto max-w-xl text-sm leading-relaxed text-slate-600 md:max-w-3xl md:text-xl"
          >
            We ensure you get the dentist you truly deserve.
          </p>
        </div>
      </div>
    </section>

    <!-- Process Steps - Mobile: Accordion | Desktop: Full -->
    <section class="relative bg-white py-8 md:py-20">
      <!-- Decorative background blobs for desktop/tablet -->
      <div
        class="pointer-events-none absolute inset-0 hidden overflow-hidden md:block"
      >
        <div
          class="bg-forest/5 absolute -top-20 -left-20 h-72 w-72 rounded-full blur-3xl"
        >
        </div>
        <div
          class="bg-sage/5 absolute top-1/3 -right-16 h-60 w-60 rounded-full blur-3xl"
        >
        </div>
        <div
          class="bg-forest-light/5 absolute -bottom-10 left-1/4 h-80 w-80 rounded-full blur-3xl"
        >
        </div>
      </div>

      <div class="relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <!-- Mobile: Accordion Component -->
        <div class="md:hidden">
          <ProcessAccordion client:load />
        </div>

        <!-- Desktop: Full Layout -->
        <div class="hidden md:block">
          {
            processSteps.map((step) => (
              <div class="mb-16 last:mb-0">
                <div class="grid items-start gap-8 lg:grid-cols-2 lg:gap-12">
                  <div>
                    <div class="mb-4">
                      <div class="flex items-center">
                        <div
                          class={`h-14 w-14 bg-gradient-to-br ${step.colorGradient} mr-4 flex items-center justify-center rounded-2xl text-xl font-bold text-white shadow-lg`}
                        >
                          {step.id}
                        </div>
                        <h2 class="text-2xl font-bold text-slate-800 md:text-3xl">
                          {step.title}
                        </h2>
                      </div>
                      {step.note && (
                        <div class="mt-2 ml-18">
                          <span class="inline-flex items-center gap-1.5 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-medium text-amber-700">
                            <svg
                              class="h-3.5 w-3.5"
                              fill="none"
                              stroke="currentColor"
                              viewBox="0 0 24 24"
                            >
                              <path
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                stroke-width="2"
                                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                              />
                            </svg>
                            {step.note}
                          </span>
                        </div>
                      )}
                    </div>
                    <p class="mb-4 text-base leading-relaxed text-slate-700">
                      {step.description}
                    </p>

                    <div
                      class={`rounded-xl bg-${step.color}/5 border border-${step.color}/10 p-4 shadow-sm`}
                    >
                      <ul class="space-y-2">
                        {step.features.map((feature: string) => (
                          <li class="flex items-center text-slate-700">
                            <svg
                              class={`h-4 w-4 text-${step.color} mr-3`}
                              fill="currentColor"
                              viewBox="0 0 20 20"
                            >
                              <path
                                fill-rule="evenodd"
                                d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                                clip-rule="evenodd"
                              />
                            </svg>
                            {feature}
                          </li>
                        ))}
                      </ul>
                    </div>

                    {step.ctaText && step.ctaUrl && (
                      <a
                        href={step.ctaUrl}
                        target="_blank"
                        rel="noopener noreferrer"
                        class={`mt-4 inline-flex items-center gap-2 rounded-xl bg-gradient-to-r ${step.colorGradient} px-6 py-3 font-bold text-white shadow-lg transition-all hover:scale-105 hover:shadow-xl`}
                      >
                        {step.ctaText}
                        <svg
                          class="h-4 w-4"
                          fill="none"
                          stroke="currentColor"
                          viewBox="0 0 24 24"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M17 8l4 4m0 0l-4 4m4-4H3"
                          />
                        </svg>
                      </a>
                    )}
                  </div>

                  {/* Right Column ‚Äî Visual Card per Step */}
                  {step.id === 1 && (
                    <div class="from-forest/5 to-sage/10 relative overflow-hidden rounded-2xl border border-white/40 bg-gradient-to-br p-1 shadow-xl">
                      <div class="relative aspect-4/3 overflow-hidden rounded-xl">
                        <img
                          src="/hero/hero3.webp"
                          alt="Patient consultation"
                          class="h-full w-full object-cover"
                          loading="lazy"
                        />
                        <div class="absolute inset-0 bg-linear-to-t from-black/50 via-transparent to-transparent" />
                        {/* Floating stat badges */}
                        <div class="absolute right-4 bottom-4 left-4 flex items-end justify-between">
                          <div class="rounded-xl bg-white/90 px-4 py-2 shadow-lg backdrop-blur-sm">
                            <p class="text-xs font-medium text-slate-500">
                              Response Time
                            </p>
                            <p class="text-forest text-lg font-bold">
                              &lt; 24hrs
                            </p>
                          </div>
                          <div class="rounded-xl bg-white/90 px-4 py-2 shadow-lg backdrop-blur-sm">
                            <p class="text-xs font-medium text-slate-500">
                              Assessments
                            </p>
                            <p class="text-forest text-lg font-bold">
                              100% Free
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  {step.id === 2 && (
                    <div class="from-sage/5 to-forest-light/10 relative overflow-hidden rounded-2xl border border-white/40 bg-gradient-to-br p-1 shadow-xl">
                      <div class="relative aspect-4/3 overflow-hidden rounded-xl">
                        <img
                          src="/cancun/cancun1.webp"
                          alt="Cancun beach experience"
                          class="h-full w-full object-cover"
                          loading="lazy"
                        />
                        <div class="absolute inset-0 bg-linear-to-t from-black/50 via-transparent to-transparent" />
                        {/* Amenity badges */}
                        <div class="absolute right-4 bottom-4 left-4">
                          <div class="flex flex-wrap gap-2">
                            <span class="rounded-full bg-white/90 px-3 py-1.5 text-xs font-semibold text-slate-700 shadow-md backdrop-blur-sm">
                              ‚úàÔ∏è Airport Pickup
                            </span>
                            <span class="rounded-full bg-white/90 px-3 py-1.5 text-xs font-semibold text-slate-700 shadow-md backdrop-blur-sm">
                              üè® Hotel Stay
                            </span>
                            <span class="rounded-full bg-white/90 px-3 py-1.5 text-xs font-semibold text-slate-700 shadow-md backdrop-blur-sm">
                              üöó Transportation
                            </span>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                  {step.id === 3 && (
                    <div class="from-forest-light/5 to-sage/10 relative overflow-hidden rounded-2xl border border-white/40 bg-gradient-to-br p-1 shadow-xl">
                      <div class="relative aspect-4/3 overflow-hidden rounded-xl">
                        <img
                          src="/hero/hero.webp"
                          alt="World-class dental treatment"
                          class="h-full w-full object-cover"
                          loading="lazy"
                        />
                        <div class="absolute inset-0 bg-linear-to-t from-black/50 via-transparent to-transparent" />
                        {/* Trust indicators */}
                        <div class="absolute right-4 bottom-4 left-4 flex items-end justify-between">
                          <div class="rounded-xl bg-white/90 px-4 py-2 shadow-lg backdrop-blur-sm">
                            <p class="text-xs font-medium text-slate-500">
                              Success Rate
                            </p>
                            <p class="text-forest text-lg font-bold">500+</p>
                          </div>
                          <div class="rounded-xl bg-white/90 px-4 py-2 shadow-lg backdrop-blur-sm">
                            <p class="text-xs font-medium text-slate-500">
                              Guarantee
                            </p>
                            <p class="text-forest text-lg font-bold">100%</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  )}
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- Timeline Stats - Compact -->
    <section
      class="from-sand via-cream bg-gradient-to-br to-white py-8 md:py-16"
    >
      <div class="mx-auto max-w-4xl px-4 sm:px-6 lg:px-8">
        <h2
          class="mb-4 text-center text-xl font-bold text-slate-800 md:mb-6 md:text-3xl"
        >
          Your Timeline
        </h2>
        <div class="grid grid-cols-3 gap-2 md:gap-4">
          {
            timelineStats.map((stat) => (
              <div class="rounded-xl border border-white/40 bg-white/60 p-3 text-center shadow-lg backdrop-blur-xl md:rounded-2xl md:p-5">
                <div
                  class={`bg-gradient-to-br ${stat.colorGradient} mb-1 bg-clip-text text-xl font-bold text-transparent md:mb-2 md:text-3xl`}
                >
                  {stat.value}
                </div>
                <div class="text-xs font-medium text-slate-700 md:text-sm">
                  {stat.label}
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- CTA Section - Compact -->
    <section
      class="from-forest via-sage to-forest-light relative overflow-hidden bg-gradient-to-br py-10 md:py-20"
    >
      <div class="absolute inset-0 opacity-10">
        <div
          class="absolute top-4 left-4 h-20 w-20 rounded-full bg-white blur-2xl"
        >
        </div>
        <div
          class="absolute right-4 bottom-16 h-12 w-12 rounded-full bg-white blur-2xl"
        >
        </div>
      </div>

      <div class="relative mx-auto max-w-4xl px-4 text-center sm:px-6 lg:px-8">
        <h2
          class="mb-3 text-xl leading-tight font-bold text-white md:mb-6 md:text-4xl"
        >
          Ready to Start Your Journey?
        </h2>
        <p
          class="mb-5 text-sm leading-relaxed text-white/90 md:mb-8 md:text-xl"
        >
          Take the first step towards your perfect smile.
        </p>
        <div class="flex flex-col justify-center gap-3 sm:flex-row sm:gap-4">
          <a
            href="https://wa.me/529983889184?text=Hello!%20I'm%20interested%20in%20receiving%20a%20free%20dental%20assessment."
            target="_blank"
            rel="noopener noreferrer"
            class="text-forest hover:bg-sand transform rounded-xl bg-white px-5 py-2.5 text-center text-sm font-bold shadow-lg transition-all duration-300 hover:scale-105 md:rounded-2xl md:px-8 md:py-4 md:text-lg"
          >
            Begin Your Transformation
          </a>
          <a
            href="/specialists"
            class="hover:text-forest transform rounded-xl border-2 border-white px-5 py-2.5 text-center text-sm font-bold text-white transition-all duration-300 hover:scale-105 hover:bg-white md:rounded-2xl md:px-8 md:py-4 md:text-lg"
          >
            Meet Our Specialists
          </a>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>
